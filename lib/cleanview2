im
class cleanview2 extends StatefulWidget {
  final String docId;
  // final String image;

  cleanview2({Key? key, required this.data, required this.image})
      : super(key: key);

  @override
  State<cleanview2> createState() => _cleanviewState();
}

bool ispause = false;

FlutterTts flutterTts = FlutterTts();

Future<void> configureTts() async {}

class _cleanview2State extends State<cleanview2> {
  void stopSpeaking() async {
    await flutterTts.stop();
    ispause = false;
    setState(() {});
    print("ispause stoptext>>$ispause");
  }

  void speakText(String data) async {
    print("pause f0rspektext>>$ispause");
    // ispause = false;

    await flutterTts.speak(data);
    await flutterTts.setLanguage('ta-IN"');
    await flutterTts.setSpeechRate(0.5);
    await flutterTts.setVolume(10.0);
    await flutterTts.setPitch(1.0);
    flutterTts.setCompletionHandler(() {
      print('Speech synthesis completed');
    });
    // await flutterTts.pause();
//
    ispause = true;
    setState(() {});
    flutterTts.setErrorHandler((message) {
      print('Error occurred: $message');
    });

    // flutterTts.setLanguageChangedHandler((language) {
    //   print('Language changed to: $language');
    // });
  }

  // Future<void> generateAndShareDynamic

  @override
  void initState() {
    // initDynamicLinks();
    // TODO: implement initState
    super.initState();
  }
 Future<void> fetchData() async {
    try {
      DocumentSnapshot docSnapshot = await FirebaseFirestore.instance
          .collection('newdbarticle')  // Change to your Firestore collection
          .doc(widget.docId)
          .get();

      if (docSnapshot.exists) {
        setState(() {
          documentData = docSnapshot.data() as Map<String, dynamic>?;
        });
      } else {
        print('Document does not exist');
      }
    } catch (e) {
      print('Error fetching document: $e');
    }
  }
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("your article"),
        actions: [
          IconButton(
              onPressed: () async {
                // generateAndShareDynamicLink();
                // shareDocumentLink();
                // ignore: deprecated_member_use
                FirebaseDynamicLinks.instance.onLink;

//To Handle pending dynamic links add following lines
                final PendingDynamicLinkData? data =
                    await FirebaseDynamicLinks.instance.getInitialLink();
                final Uri deepLink = data!.link;

                if (deepLink != null) {
                  String id = deepLink.queryParameters['id']!;
                  print(id);
                }
              },
              icon: Icon(Icons.share))
        ],
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: () {
          ispause = !ispause;
          if (ispause == false) {
            stopSpeaking();
          } else if (ispause == true) {
            speakText(widget.data);
          }
          // ispause == false ? speakText(widget.data) :

          print("ispause>>>>$ispause");
          setState(() {});
        },
        child: ispause == true
            ? Icon(Icons.mic_none_sharp)
            : Icon(Icons.mic_off_outlined),
      ),
      body: SingleChildScrollView(
        scrollDirection: Axis.vertical,
        child: Container(
          width: double.infinity,
          // color: Colors.orange,
          margin: EdgeInsets.only(left: 10, right: 10),
          child:
              Column(crossAxisAlignment: CrossAxisAlignment.start, children: [
            SizedBox(
              height: 50,
            ),
            Container(
              color: Colors.blue,
              // height: 200,
              width: double.infinity,
              // margin: EdgeInsets.only(left: 10, right: 0),
              child: Image(
                  height: 200,
                  fit: BoxFit.cover,
                  // width: double.infinity,
                  image: NetworkImage(widget.image)),
            ),
            Container(
              // alignment: Alignment(15, 10),
              child: Text(widget.data.toString()),
            ),
          ]),

          // Positioned(
          //   left: 10,
          //   top: 0,
          //   bottom: 80,
          //   child: ClipRRect(
          //     borderRadius: BorderRadius.circular(22.0),
          //     child: Image(
          //         width: 100,
          //         height: 150,
          //         fit: BoxFit.cover,
          //         image: NetworkImage(widget.image.toString())),
          //   ),
          // ),

          // CircleAvatar(
          //   radius: 80,
          //   backgroundImage: NetworkImage(widget.image.toString()),
          // ),
        ),
      ),
    );
  }
}
